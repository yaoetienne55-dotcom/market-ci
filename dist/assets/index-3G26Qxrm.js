(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const c=document.getElementById("hero-canvas"),m=c.getContext("2d"),i=240,E=t=>`/frames/ezgif-frame-${t.toString().padStart(3,"0")}.jpg`,p=[];document.querySelector(".scrolly-container");let w=!1;const f=document.getElementById("loading-screen"),v=document.querySelector(".progress-bar-fill"),S=document.querySelector(".percentage");let a=0;const I=()=>{for(let t=1;t<=i;t++){const o=new Image;o.src=E(t),o.onload=()=>{a++;const n=Math.round(a/i*100);h(n),a===i&&g()},o.onerror=()=>{console.error(`Failed to load frame ${t}`),a++;const n=Math.round(a/i*100);h(n),a===i&&g()},p.push(o)}},h=t=>{v.style.width=`${t}%`,S.innerText=`${t}%`},g=()=>{f.style.opacity="0",setTimeout(()=>{f.style.display="none"},500),w=!0,u(0),b(),L()},u=t=>{if(t>=0&&t<i){const o=p[t],n=c.width/c.height,s=o.width/o.height;let e,r,l,d;s>n?(r=c.height,e=r*s,l=(c.width-e)/2,d=0):(e=c.width,r=e/s,l=0,d=(c.height-r)/2),m.clearRect(0,0,c.width,c.height),m.drawImage(o,l,d,e,r)}},y=()=>{c.width=window.innerWidth,c.height=window.innerHeight;const t=document.documentElement.scrollTop,o=document.documentElement.scrollHeight-window.innerHeight,n=t/o,s=Math.min(i-1,Math.ceil(n*i));w&&u(s)};window.addEventListener("resize",y);y();const b=()=>{window.addEventListener("scroll",()=>{const t=document.documentElement.scrollTop,o=document.documentElement.scrollHeight-window.innerHeight,n=Math.max(0,Math.min(1,t/o)),s=Math.min(i-1,Math.floor(n*i));requestAnimationFrame(()=>u(s))})},L=()=>{const t=new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&n.target.querySelectorAll(".fade-in-up, .fade-in-left, .fade-in-right, .fade-in-bottom").forEach(e=>e.classList.add("visible"))})},{threshold:.3});document.querySelectorAll("section").forEach(o=>{t.observe(o)})};I();
