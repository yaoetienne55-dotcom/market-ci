(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();const m=document.getElementById("hero-canvas"),M=document.getElementById("loading-screen"),x=7e3,v=t=>`${t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} FCFA`;let l={quantity:parseInt(localStorage.getItem("cartQuantity"))||0};const j=()=>{localStorage.setItem("cartQuantity",l.quantity),X()},X=()=>{document.querySelectorAll(".badge").forEach(e=>{e.innerText=l.quantity,e.style.transform="scale(1.2)",setTimeout(()=>e.style.transform="scale(1)",200)})};X();if(m&&M){const t=m.getContext("2d"),e=240,r=s=>`/frames/ezgif-frame-${s.toString().padStart(3,"0")}.jpg`,o=[],n=document.querySelector(".progress-bar-fill"),i=document.querySelector(".percentage");let a=!1,u=0;const E=s=>{n&&(n.style.width=`${s}%`),i&&(i.innerText=`${s}%`)},I=()=>{M.style.opacity="0",setTimeout(()=>{M.style.display="none"},500),a=!0,b(0),G(),Y()},b=s=>{if(s>=0&&s<e){const c=o[s],d=m.width/m.height,f=c.width/c.height;let g,w,T,S;f>d?(w=m.height,g=w*f,T=(m.width-g)/2,S=0):(g=m.width,w=g/f,T=0,S=(m.height-w)/2),t.clearRect(0,0,m.width,m.height),t.drawImage(c,T,S,g,w)}},P=()=>{m.width=window.innerWidth,m.height=window.innerHeight;const s=document.documentElement.scrollTop,c=document.documentElement.scrollHeight-window.innerHeight,d=c>0?s/c:0,f=Math.min(e-1,Math.ceil(d*e));a&&b(f)},G=()=>{window.addEventListener("scroll",()=>{const s=document.documentElement.scrollTop,c=document.documentElement.scrollHeight-window.innerHeight,d=c>0?Math.max(0,Math.min(1,s/c)):0,f=Math.min(e-1,Math.floor(d*e));requestAnimationFrame(()=>b(f))})},Y=()=>{const s=new IntersectionObserver(c=>{c.forEach(d=>{d.isIntersecting&&d.target.querySelectorAll(".fade-in-up, .fade-in-left, .fade-in-right, .fade-in-bottom").forEach(g=>g.classList.add("visible"))})},{threshold:.3});document.querySelectorAll("section").forEach(c=>{s.observe(c)})};window.addEventListener("resize",P),P();for(let s=1;s<=e;s++){const c=new Image;c.src=r(s),c.onload=()=>{u++;const d=Math.round(u/e*100);E(d),u===e&&I()},c.onerror=()=>{u++;const d=Math.round(u/e*100);E(d),u===e&&I()},o.push(c)}}const p=document.getElementById("cart-modal"),O=document.getElementById("close-cart"),C=document.getElementById("cart-items"),A=document.getElementById("cart-total-display"),_=document.querySelectorAll(".icon-btn");let H=null;_.forEach(t=>{t.querySelector(".badge")&&(H=t)});H&&p&&(H.addEventListener("click",()=>{p.classList.add("active"),Z()}),O&&O.addEventListener("click",()=>{p.classList.remove("active")}),p.addEventListener("click",t=>{t.target===p&&p.classList.remove("active")}));function Z(){if(!(!C||!A))if(l.quantity>0){const t=x*l.quantity;C.innerHTML=`
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div style="display: flex; gap: 15px; align-items: center;">
                    <div style="width: 50px; height: 50px; background: #333; border-radius: 8px; overflow: hidden;">
                        <img src="/frames/ezgif-frame-001.jpg" style="width: 100%; height: 100%; object-fit: cover;">
                    </div>
                    <div>
                        <div style="color: #fff; font-weight: bold;">Mini Cam√©ra A9</div>
                        <div style="color: #888; font-size: 0.9rem;">Quantit√©: ${l.quantity}</div>
                    </div>
                </div>
                <div style="color: #fff; font-weight: bold;">${v(t)}</div>
            </div>
        `,A.innerText=v(t)}else C.innerHTML='<p style="color: #888; text-align: center; padding: 20px;">Votre panier est vide.</p>',A.innerText="0 FCFA"}const R=document.getElementById("qty-minus"),z=document.getElementById("qty-plus"),$=document.getElementById("qty-display"),k=document.getElementById("total-price");if(R&&z&&$&&k){$.innerText=l.quantity,k.innerText=v(x*l.quantity);const t=()=>{$.innerText=l.quantity,k.innerText=v(x*l.quantity)};R.addEventListener("click",()=>{l.quantity>0&&(l.quantity--,j(),t())}),z.addEventListener("click",()=>{l.quantity++,j(),t()})}const N=[{name:"Moyo Shiro",stars:5,text:"Excellent produit ! Je recommande.",time:"Il y a 2h"},{name:"Alice K.",stars:5,text:"Livraison super rapide √† Abidjan.",time:"Il y a 1j"},{name:"Jean-Marc",stars:4,text:"Bonne qualit√© d'image pour le prix.",time:"Il y a 2j"},{name:"Sarah L.",stars:5,text:"Tr√®s discret, parfait pour la maison.",time:"Il y a 3j"},{name:"Kouam√© B.",stars:5,text:"Service client au top sur WhatsApp.",time:"Il y a 1 semaine"}],L=document.getElementById("reviewsTrack");if(L){L.innerHTML="";const t=e=>{const r=document.createElement("div");return r.className="review-card glass-panel",r.style.minWidth="300px",r.style.padding="20px",r.style.flexShrink="0",r.innerHTML=`
            <div class="review-header">
                <div class="stars">${"‚≠ê".repeat(e.stars)}</div>
                <div class="review-time">${e.time}</div>
            </div>
            <p class="review-text">"${e.text}"</p>
            <div class="review-author">- ${e.name}</div>
        `,r};N.forEach(e=>{L.appendChild(t(e))}),N.forEach(e=>{const r=t(e);r.setAttribute("aria-hidden","true"),L.appendChild(r)})}const ee=document.querySelectorAll(".faq-item");ee.forEach(t=>{t.addEventListener("click",()=>{const e=t.querySelector(".faq-answer"),r=t.querySelector(".faq-toggle"),o=e.style.display==="block";document.querySelectorAll(".faq-answer").forEach(n=>n.style.display="none"),document.querySelectorAll(".faq-toggle").forEach(n=>n.innerText="+"),o||(e.style.display="block",r.innerText="-")})});const te=[{name:"Mini Cam√©ra A9",url:"product.html",price:"7 000 FCFA",img:"/frames/ezgif-frame-001.jpg"}],W=document.getElementById("search-btn"),y=document.getElementById("search-modal"),D=document.getElementById("close-search"),q=document.getElementById("search-input"),B=document.getElementById("search-results");W&&y&&(W.addEventListener("click",()=>{y.classList.add("active"),q&&q.focus()}),D&&D.addEventListener("click",()=>y.classList.remove("active")),y.addEventListener("click",t=>{t.target===y&&y.classList.remove("active")}),q&&B&&q.addEventListener("input",t=>{const e=t.target.value.toLowerCase();if(B.innerHTML="",e.length>0){const r=te.filter(o=>o.name.toLowerCase().includes(e));r.length>0?r.forEach(o=>{const n=document.createElement("div");n.style.cssText="display: flex; align-items: center; gap: 15px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px; cursor: pointer; transition: background 0.2s; margin-bottom: 10px;",n.innerHTML=`<img src="${o.img}" style="width: 40px; height: 40px; border-radius: 4px; object-fit: cover;"><div><div style="font-weight: bold; color: #fff;">${o.name}</div><div style="color: var(--accent-green); font-size: 0.8rem;">${o.price}</div></div>`,n.addEventListener("click",()=>window.location.href=o.url),B.appendChild(n)}):B.innerHTML='<div style="color: #888; text-align: center; padding: 20px;">Aucun produit trouv√©.</div>'}}));const h=document.getElementById("review-modal"),U=document.getElementById("add-review-btn"),Q=document.getElementById("close-review");U&&h&&(U.addEventListener("click",()=>h.classList.add("active")),Q&&Q.addEventListener("click",()=>h.classList.remove("active")),h.addEventListener("click",t=>{t.target===h&&h.classList.remove("active")}));const F=document.getElementById("carousel-track"),K=document.getElementById("carousel-prev"),V=document.getElementById("carousel-next");if(F&&K&&V){let t=0;const e=Array.from(F.children),r=()=>{const o=e[0].getBoundingClientRect().width;F.style.transform=`translateX(-${t*o}px)`,e.forEach((n,i)=>{const a=n.querySelector("video");if(a)if(a.muted=!0,i===t){a.currentTime=0;const u=a.play();u!==void 0&&u.catch(E=>{console.log("Auto-play was prevented",E)})}else a.pause()})};window.addEventListener("resize",r),V.addEventListener("click",()=>{t=(t+1)%e.length,r()}),K.addEventListener("click",()=>{t=(t-1+e.length)%e.length,r()}),setTimeout(r,100)}const J=document.getElementById("whatsapp-order-form");J&&J.addEventListener("submit",t=>{t.preventDefault();const e=document.getElementById("order-nom").value,r=document.getElementById("order-prenom").value,o=document.getElementById("order-tel").value,n=document.getElementById("order-lieu").value;let i=l.quantity;i<=0&&(i=1);const a=v(x*i),u=`
*NOUVELLE COMMANDE WEB* üöÄ
----------------------------
*Produit :* Mini Cam√©ra A9
*Prix Unitaire :* ${v(x)}
*Quantit√© :* ${i}
*Total √† payer :* ${a}
----------------------------
üë§ *Client :* ${e} ${r}
üìû *T√©l√©phone :* ${o}
üìç *Lieu de livraison :* ${n}
----------------------------
Merci de confirmer ma commande !
        `.trim(),I=`https://wa.me/2250575809069?text=${encodeURIComponent(u)}`;window.open(I,"_blank")});
